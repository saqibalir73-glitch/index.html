<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AllMoviesHD Hindi | Direct Downloader</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0a0a0a; color: white; text-align: center; margin:0; }
        .nav-pro { background: linear-gradient(90deg, #e91e63, #880e4f); padding: 18px; font-weight: bold; font-size: 22px; letter-spacing: 1px; box-shadow: 0 4px 15px rgba(233,30,99,0.3); }
        .main-card { background: #151515; margin: 25px auto; padding: 25px; max-width: 450px; border-radius: 20px; border: 1px solid #252525; position: relative; }
        #m-poster { width: 100%; border-radius: 12px; border: 2px solid #333; margin-bottom: 20px; transition: 0.5s; }
        .quality-tag { position: absolute; top: 35px; right: 35px; background: #ff9800; color: black; padding: 5px 12px; border-radius: 5px; font-weight: bold; font-size: 14px; }
        .download-btn { display: block; background: #4caf50; color: white; padding: 18px; text-decoration: none; border-radius: 12px; font-weight: bold; margin: 15px 0; font-size: 18px; border: none; width: 100%; cursor: pointer; box-shadow: 0 4px 10px rgba(76,175,80,0.3); }
        .mgr-box { display: none; background: #1a1a1a; padding: 20px; border-radius: 15px; margin-top: 15px; border: 1px solid #333; }
        .loader-line { width: 100%; background: #333; height: 10px; border-radius: 5px; overflow: hidden; margin: 15px 0; }
        .fill-line { width: 0%; background: #4caf50; height: 100%; transition: 0.2s; }
        #log-text { font-size: 13px; color: #8bc34a; font-family: monospace; }
    </style>
</head>
<body>

<div class="nav-pro">ALLMOVIESHD HINDI</div>

<div class="main-card">
    <div class="quality-tag">HEVC 10-Bit</div>
    <img id="m-poster" src="" alt="Poster">
    <h2 id="m-title" style="margin-bottom:20px;">Fetching Details...</h2>
    
    <div id="init-btn">
        <button class="download-btn" onclick="triggerManager()">ðŸš€ GENERATE DIRECT DOWNLOAD</button>
    </div>

    <div id="mgr-box" class="mgr-box">
        <h3 id="step-msg">Requesting File Token...</h3>
        <div class="loader-line"><div class="fill-line" id="fill"></div></div>
        <p id="log-text">> Initializing handshake...</p>
        <a id="file-link" class="download-btn" style="display:none; background:#e91e63;">ðŸ“‚ START FILE DOWNLOAD</a>
    </div>
</div>

<script>
    const params = new URLSearchParams(window.location.search);
    const mId = params.get('id');

    async function setupPage() {
        const res = await fetch('news.json');
        const data = await res.json();
        const movie = data.news_items.find(m => m.id == mId);
        if(movie) {
            document.getElementById('m-title').innerText = movie.title + " (" + movie.year + ")";
            document.getElementById('m-poster').src = movie.img;
        }
    }

    function triggerManager() {
        document.getElementById('init-btn').style.display = 'none';
        document.getElementById('mgr-box').style.display = 'block';
        let fill = document.getElementById('fill');
        let log = document.getElementById('log-text');
        let step = document.getElementById('step-msg');
        
        let progress = 0;
        let speed = setInterval(() => {
            progress += 5;
            fill.style.width = progress + "%";
            
            if(progress == 25) log.innerText = "> Connecting to Ultra-Speed Server...";
            if(progress == 50) { step.innerText = "Bypassing Limits..."; log.innerText = "> Generating Session ID: " + Math.random().toString(36).substr(2, 9); }
            if(progress == 75) log.innerText = "> Linking with Filmyzilla Database...";
            
            if(progress >= 100) {
                clearInterval(speed);
                step.innerText = "Internal Link Ready!";
                log.innerText = "> Status: 200 OK (Connection Secure)";
                document.getElementById('loader-line').style.display = 'none';
                let link = document.getElementById('file-link');
                link.style.display = 'block';
                // Filmyzilla style direct video link generator
                link.href = "https://www.google.com/search?q=filetype:mp4+" + document.getElementById('m-title').innerText + "+direct+download";
            }
        }, 150);
    }
    setupPage();
</script>

</body>
</html>
